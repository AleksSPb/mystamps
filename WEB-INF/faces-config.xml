<?xml version="1.0"?>
<faces-config xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
		http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd"
	version="1.2">
	
	<application>
		
		<navigation-rule>
			<from-view-id>/register_user.jsp</from-view-id>
			<navigation-case>
				<from-outcome>activation_sent</from-outcome>
				<to-view-id>/activation_sent.jsp</to-view-id>
			</navigation-case>
		</navigation-rule>
		
		<navigation-rule>
			<from-view-id>/activate_user.jsp</from-view-id>
			<navigation-case>
				<from-outcome>activation_successful</from-outcome>
				<to-view-id>/activation_successful.jsp</to-view-id>
			</navigation-case>
		</navigation-rule>
		
		<navigation-rule>
			<from-view-id>/auth_user.jsp</from-view-id>
			<navigation-case>
				<from-outcome>index</from-outcome>
				<to-view-id>/index.jsp</to-view-id>
				<redirect />
			</navigation-case>
		</navigation-rule>
		
		<resource-bundle>
			<base-name>ru.mystamps.i18n.Messages</base-name>
			<var>m</var>
		</resource-bundle>
		
		<resource-bundle>
			<base-name>ru.mystamps.i18n.ErrorMessages</base-name>
			<var>e</var>
		</resource-bundle>
		
		<message-bundle>ru.mystamps.i18n.Messages</message-bundle>
		<message-bundle>ru.mystamps.i18n.ErrorMessages</message-bundle>
		
		<converter>
			<converter-id>ru.mystamps.site.converters.TrimSpaces</converter-id>
			<converter-class>ru.mystamps.site.converters.TrimSpacesConverter</converter-class>
		</converter>
		
		<validator>
			<validator-id>ru.mystamps.site.validators.LoginNotExists</validator-id>
			<validator-class>ru.mystamps.site.validators.LoginNotExistsValidator</validator-class>
		</validator>
		
		<validator>
			<validator-id>ru.mystamps.site.validators.ActivationKeyExists</validator-id>
			<validator-class>ru.mystamps.site.validators.ActivationKeyExistsValidator</validator-class>
		</validator>
		
		<locale-config>
			<default-locale>ru</default-locale>
			<supported-locale>ru</supported-locale>
			<supported-locale>en</supported-locale>
		</locale-config>
		
		<managed-bean>
			<managed-bean-name>form</managed-bean-name>
			<managed-bean-class>ru.mystamps.site.beans.FormBean</managed-bean-class>
			<managed-bean-scope>application</managed-bean-scope>
		</managed-bean>
		
		<managed-bean>
			<managed-bean-name>user</managed-bean-name>
			<managed-bean-class>ru.mystamps.site.beans.UserBean</managed-bean-class>
			<managed-bean-scope>session</managed-bean-scope>
		</managed-bean>
		
		<managed-bean>
			<managed-bean-name>register</managed-bean-name>
			<managed-bean-class>ru.mystamps.site.beans.RegisterBean</managed-bean-class>
			<managed-bean-scope>request</managed-bean-scope>
		</managed-bean>
		
		<managed-bean>
			<managed-bean-name>activate</managed-bean-name>
			<managed-bean-class>ru.mystamps.site.beans.ActivateBean</managed-bean-class>
			<managed-bean-scope>request</managed-bean-scope>
			<managed-property>
				<property-name>actKey</property-name>
				<property-class>java.lang.String</property-class>
				<value>#{param.key}</value>
			</managed-property>
		</managed-bean>
		
		<managed-bean>
			<managed-bean-name>auth</managed-bean-name>
			<managed-bean-class>ru.mystamps.site.beans.AuthBean</managed-bean-class>
			<managed-bean-scope>request</managed-bean-scope>
			<managed-property>
				<property-name>user</property-name>
				<value>#{user}</value>
			</managed-property>
		</managed-bean>
		
	</application>
	
</faces-config>
