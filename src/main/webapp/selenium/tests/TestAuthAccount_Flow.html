<table>
	<!--
		ATTENTION!
		This test will fails if selenium/tests/TestActivateUser_Flow.html
		was not run before.
	-->
	
	<tr>
		<td>open</td>
		<td>http://my-stamps:8080/account/auth.htm</td>
		<td></td>
	</tr>
	
	<!-- try to log in -->
	<tr>
		<td>type</td>
		<td>xpath=//input[@name="login"]</td>
		<td>test-login</td>
	</tr>
	<tr>
		<td>type</td>
		<td>xpath=//input[@name="password"]</td>
		<td>test-password</td>
	</tr>
	<tr>
		<td>clickAndWait</td>
		<td>xpath=//input[@type="submit"]</td>
		<td></td>
	</tr>
	<tr>
		<td>assertLocation</td>
		<td>http://my-stamps:8080/site/index.htm</td>
		<td></td>
	</tr>
	
	<!-- user name should be in a user bar -->
	<tr>
		<td>assertElementPresent</td>
		<td>xpath=//td[@id='user_bar']/ul/li[1]</td>
		<td></td>
	</tr>
	<tr>
		<td>verifyText</td>
		<td>xpath=//td[@id='user_bar']/ul/li[1]</td>
		<td>Test Suite</td>
	</tr>
	
	<!-- check link to logout -->
	<tr>
		<td>assertElementPresent</td>
		<td>xpath=//td[@id='user_bar']/ul/li[2]/a</td>
		<td></td>
	</tr>
	<tr>
		<td>verifyText</td>
		<td>xpath=//td[@id='user_bar']/ul/li[2]/a</td>
		<td>Log out</td>
	</tr>
	
	<!-- try to log out -->
	<tr>
		<td>clickAndWait</td>
		<td>xpath=//td[@id='user_bar']/ul/li[2]/a</td>
		<td></td>
	</tr>
	<tr>
		<td>assertLocation</td>
		<td>http://my-stamps:8080/site/index.htm</td>
		<td></td>
	</tr>
	
	<!-- check user bar: links to login/register -->
	<tr>
		<td>assertElementPresent</td>
		<td>xpath=//td[@id='user_bar']/ul/li[1]/a</td>
		<td></td>
	</tr>
	<tr>
		<td>verifyText</td>
		<td>xpath=//td[@id='user_bar']/ul/li[1]/a</td>
		<td>Log in</td>
	</tr>
	<tr>
		<td>assertElementPresent</td>
		<td>xpath=//td[@id='user_bar']/ul/li[2]/a</td>
		<td></td>
	</tr>
	<tr>
		<td>verifyText</td>
		<td>xpath=//td[@id='user_bar']/ul/li[2]/a</td>
		<td>Register</td>
	</tr>
	
</table>
